(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{157:function(e,t,n){e.exports={voter:"item-title_voter__qViTL",domain:"item-title_domain__16bfZ",link:"item-title_link__1laQf"}},159:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(173),a=n(174),c=n(175),o=n.n(c).a.create(),i=new(function(){function e(t){var n=t.url;Object(r.a)(this,e),this.url=n,this.endpoints={}}return Object(a.a)(e,[{key:"createEntity",value:function(e){this.endpoints[e.name]=this.createDefaultEndpoints(e),Object.assign(this.endpoints,this.setOtherEndpoints())}},{key:"createDefaultEndpoints",value:function(e){var t={},n="".concat(this.url,"/").concat(e.name);return t.getAll=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.get(n,{params:e})},t.getOne=function(e,t){return o.get("".concat(n,"/").concat(e,".json"),{params:t})},t.create=function(e){return o.post(n,e)},t.update=function(e,t){return o.put("".concat(n,"/").concat(e),t)},t.delete=function(e){return o.delete("".concat(n,"/").concat(e))},t}},{key:"getResourceUrl",value:function(e){return"".concat(this.url,"/").concat(e)}},{key:"setOtherEndpoints",value:function(){var e=this;return{TOP_STORIES:{GET_ALL:function(){return o.get("".concat(e.getResourceUrl("topstories.json")))}},NEWS_STORIES:{GET_ALL:function(){return o.get("".concat(e.getResourceUrl("beststories.json")))}},NEW_STORIES:{GET_ALL:function(){return o.get("".concat(e.getResourceUrl("newstories.json")))}},SHOW_STORIES:{GET_ALL:function(){return o.get("".concat(e.getResourceUrl("showstories.json")))}},JOB_STORIES:{GET_ALL:function(){return o.get("".concat(e.getResourceUrl("jobstories.json")))}},ASK_STORIES:{GET_ALL:function(){return o.get("".concat(e.getResourceUrl("askstories.json")))}}}}}]),e}())({url:"https://hacker-news.firebaseio.com/v0"})},162:function(e,t,n){e.exports={details:"item-details_details__2ZwlC"}},164:function(e,t,n){"use strict";var r=n(0),a=n(157),c=n.n(a),o=n(77);function i(e){return e?new URL(e).hostname.replace("www.",""):""}var s=function(e){var t=e.item,n=e.index;return r.createElement("tr",null,r.createElement("td",{align:"right"},r.createElement("span",null,n&&"".concat(n,"."))),r.createElement("td",null,r.createElement("a",{href:"https://news.ycombinator.com/vote?id=".concat(t.id,"&how=up")},r.createElement("div",{className:c.a.voter}))),r.createElement("td",null,t.url?r.createElement("a",{target:"_blank",href:t.url},t.title):r.createElement(o.a,{to:"/item?id=".concat(t.id)},t.title)," ",r.createElement("span",{className:c.a.domain},t.url&&r.createElement(r.Fragment,null,"(",r.createElement("a",{className:c.a.link,href:"https://news.ycombinator.com/from?site=".concat(i(t.url))},i(t.url)),")"))))},l=n(169),u=n(162),m=n.n(u),d=function(e){var t=e.item,n=e.setCurrentItem,a=e.index;return r.createElement("tr",null,r.createElement("td",{colSpan:2}),r.createElement("td",{className:m.a.details},r.createElement("span",null,t.score," points")," by ",r.createElement("a",{href:"https://news.ycombinator.com/user?id=".concat(t.by)},t.by)," ",r.createElement("span",null,r.createElement(o.a,{onClick:n,to:"/item?id=".concat(t.id)},Object(l.format)(t.time,(new Date).toString())))," | ",r.createElement("a",{href:"https://news.ycombinator.com/hide?id=".concat(t.id)},"hide")," | ",!a&&r.createElement(r.Fragment,null,r.createElement("a",{href:"https://hn.algolia.com/?query=".concat(t.title,"&sort=byDate&dateRange=all&type=story&storyText=false&prefix&page=0")},"past")," | ",r.createElement("a",{href:"https://hn.algolia.com/?search=".concat(t.title)},"web")," | ",r.createElement("a",{href:"https://news.ycombinator.com/fave?id=".concat(t.id)},"favorite")," | "),r.createElement(o.a,{onClick:n,to:"/item?id=".concat(t.id)},t.descendants," comments")))},f=function(e){var t=e.index,n=e.item,a=e.setCurrentItem;return r.createElement(r.Fragment,null,r.createElement(s,{item:n,index:t}),r.createElement(d,{setCurrentItem:a,item:n,index:t}),r.createElement("tr",{className:c.a.spacer}))};n.d(t,"a",function(){return f})},165:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"getAllStoriesByType",function(){return u}),n.d(r,"setPage",function(){return m}),n.d(r,"setCurrentItem",function(){return d});var a={};n.r(a),n.d(a,"currentItemSelector",function(){return p}),n.d(a,"pageSelector",function(){return E}),n.d(a,"itemsSelector",function(){return g}),n.d(a,"isLoadingSelector",function(){return h});var c=n(170),o=n.n(c),i=n(171),s=n(14),l=n(159);l.a.createEntity({name:"item"});var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(){var n=Object(i.a)(o.a.mark(function n(r,a){var c,i,u,m,d;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return c=a(),i=c.items.pageSize,n.next=4,l.a.endpoints["".concat(e.toUpperCase(),"_STORIES")].GET_ALL();case 4:return u=n.sent,m=u.data.filter(function(e){return!e.deleted&&!e.dead}).slice(t*i-i,t*i),d=m.map(function(e){return l.a.endpoints.item.getOne(e)}),n.abrupt("return",r({type:s.a.GET_ALL,payload:Promise.all(d)}));case 8:case"end":return n.stop()}},n,this)}));return function(e,t){return n.apply(this,arguments)}}()},m=function(e){return{type:s.a.SET_PAGE,payload:{page:e}}},d=function(e){return function(t,n){var r,a=n().items.itemsById;return r=e?a[e]?new Promise(function(t){return t({data:a[e]})}):l.a.endpoints.item.getOne(e):new Promise(function(e){return e({data:null})}),t({type:s.a.SET_CURRENT_ITEM,payload:r})}},f=n(172),p=function(e){return e.items.currentItem},E=function(e){return e.items.page},g=Object(f.a)([function(e){return e.items.itemsById}],function(e){return Object.values(e)}),h=Object(f.a)([function(e){return e.items}],function(e){return e.isLoading});n(33);n.d(t,"a",function(){return _});var _={actions:r,actionTypes:s.a,selectors:a}},166:function(e,t,n){e.exports={root:"item-list_root__1ZD8i",spacer:"item-list_spacer__1KJ56"}},168:function(e,t,n){"use strict";var r=n(158),a=n.n(r),c=n(0),o=n(164),i=n(166),s=n.n(i),l=n(77),u=function(e){var t=e.items,n=e.page,r=e.onClick,i=e.pageSize,u=e.setCurrentItem;return a()(t)?null:c.createElement("table",{className:s.a.root,cellSpacing:0,cellPadding:0},c.createElement("tbody",null,t.map(function(e,t){var r=t+1+i*(n-1);return c.createElement(o.a,{setCurrentItem:u,key:e.id,item:e,index:r})}),c.createElement("tr",{className:s.a.spacer}),c.createElement("tr",null,c.createElement("td",{colSpan:2}),c.createElement("td",null,c.createElement(l.a,{onClick:r,to:"?page=".concat(n+1)},"More")))))};n.d(t,"a",function(){return u})},210:function(e,t,n){e.exports={"small-spacer":"rules_small-spacer__1aAoQ","medium-spacer":"rules_medium-spacer__KBDL1"}},215:function(e,t,n){"use strict";n.r(t);var r=n(158),a=n.n(r),c=n(0),o=n(34),i=n(15),s=n(168),l=n(165),u=n(210),m=n.n(u),d=function(){return c.createElement("table",null,c.createElement("tbody",null,c.createElement("tr",{className:m.a["small-spacer"]}),c.createElement("tr",null,c.createElement("td",{colSpan:2}),c.createElement("td",null,"Please read the"," ",c.createElement("a",{href:"https://news.ycombinator.com/showhn"},c.createElement("u",null,"rules")),". You can also browse the"," ",c.createElement("a",{href:"https://news.ycombinator.com/shownew"},c.createElement("u",null,"newest"))," ","Show HNs.")),c.createElement("tr",{className:m.a["medium-spacer"]})))},f=Object(i.b)(function(e){return{items:l.a.selectors.itemsSelector(e),isLoading:l.a.selectors.isLoadingSelector(e),page:l.a.selectors.pageSelector(e),pageSize:e.items.pageSize}})(function(e){var t=e.items,n=e.isLoading,r=e.dispatch,i=e.page,u=e.pageSize;c.useEffect(function(){var e=new URL(window.location.href),t=new URLSearchParams(e.search).get("page");t&&r(l.a.actions.setPage(Number(t)))},[]),c.useEffect(function(){r(l.a.actions.getAllStoriesByType("show",i))},[i]);return c.createElement(o.a,null,n||a()(t)?c.createElement("div",null,"Loading..."):c.createElement(c.Fragment,null,c.createElement(d,null),c.createElement(s.a,{items:t,page:i,pageSize:u,onClick:function(){r(l.a.actions.setPage(i+1))},setCurrentItem:function(){return function(e){r(l.a.actions.setCurrentItem(e))}}})))});n.d(t,"ShowPage",function(){return f})}}]);
//# sourceMappingURL=5.4558dd46.chunk.js.map